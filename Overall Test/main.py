from flask import Flask, render_template, Response, request, jsonify
from Prediction import predict

app = Flask(__name__)


@app.route('/')
def camera():
    return render_template('index.html')


@app.route('/image', methods=['GET', 'POST'])
def signup():
    # incoming_pkg = request.get_json()
    # img_b64_str_encoded = "data:image/jpeg;base64,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"
    # image_array = img_b64_str_encoded.split(',')

    incoming_pkg = request.get_json()
    img_b64_str_encoded = str(incoming_pkg['imgBase64'])
    image_array = img_b64_str_encoded.split(',')
    image = image_array[len(image_array) - 1]
    app.logger.info("Processing and Predicting Which Digit ...")
    prediction = predict(image)

    # prediction = int(img_predict(img_b64_str_encoded))
    # response = f'{prediction}'
    # app.logger.info(f'Received prediction :: {jsonify(prediction=response)}')

    return jsonify(response=prediction)


if __name__ == '__main__':
    app.run(host='0.0.0.0', debug=True)
